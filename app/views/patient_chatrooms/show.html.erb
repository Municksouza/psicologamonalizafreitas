<div class="banner mb-5" style="background: linear-gradient(270deg, #007D6E 0%, #5EB47C 100%)">
  <div class="container">
    <div style="border-left: 3px solid white;
          padding-left: 30px;
          margin-left: 60px;">
      <h1>Chat</h1>
      <p class="mt-3">Messages are confidential between both parties. We are working on end-to-end encryption!</p>
    </div>
  </div>
</div>

<div class="container chatroom p-5" data-controller="patient-chatroom-subscription" data-patient-chatroom-subscription-chatroom-id-value="<%= @patient_chatroom.id %>">
  <div class="messages" data-patient-chatroom-subscription-target="messages">
    <% @patient_chatroom.messages.each do |message| %>
      <%= render "messages/message", message: message %>
    <% end %>
  </div>
    <%= simple_form_for [@patient_chatroom, @message],
    html: { data: { action: "turbo:submit-end->patient-chatroom-subscription#resetForm" }, class: "d-flex" } do |f|
  %>
    <%= f.input :content,
      label: false,
      placeholder: "Your message",
      wrapper_html: {class: "flex-grow-1"},
      input_html: { class: 'custom-border-radius', rows: 5 }
    %>
    <%= f.submit "Send", class: "btn btn-primary mb-3" %>
  <% end %>
</div>
