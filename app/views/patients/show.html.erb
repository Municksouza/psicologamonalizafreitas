<div class="container mt-5">
  <h1>Detalhes do Compromisso</h1>

  <!-- Exibindo detalhes da consulta -->
  <div class="card">
    <div class="card-body">
      <% if @appointment %>
        <% if @appointment.psychologist %>
          <h5 class="card-title">Consulta com <%= @appointment.psychologist.full_name %></h5>
        <% else %>
          <h5 class="card-title">Psicólogo não atribuído para esta consulta.</h5>
        <% end %>

        <p><strong>Data:</strong> <%= @appointment.start_time.strftime("%B %d, %Y %H:%M") %></p>
        <p><strong>Status:</strong> <%= @appointment.status.capitalize %></p>

        <% if @appointment.patient == current_patient %>
          <%= button_to 'Cancelar Consulta', cancel_appointment_path(@appointment),
                method: :delete,
                data: { confirm: "Tem certeza que deseja cancelar esta consulta?" },
                class: 'btn btn-danger' %>
        <% else %>
          <p>Este compromisso não pertence a você.</p>
        <% end %>
      <% else %>
        <p>Detalhes da consulta não encontrados.</p>
      <% end %>
  </div>
</div>

</div>
